<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Mystic Tarot | Guía Espiritual y Productos Esotéricos</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Montserrat:wght@300;400;500;600&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.css" />
    <!-- Particle.js for Hero Animation -->
    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>

    <style id="app-style">
        :root {
            --color-primary: #8B5CF6;
            --color-primary-light: #A78BFA;
            --color-primary-dark: #7C3AED;
            --color-secondary: #1a1a1a;
            --color-mystic: #4C1D95;
            --color-accent: #FBBF24;
            --transition-speed: 0.3s;
        }
        body { font-family: 'Montserrat', sans-serif; color: var(--color-secondary); background-color: #fefcff; }
        h1, h2, h3, h4, h5, .serif { font-family: 'Playfair Display', serif; }
        .btn-primary { background-color: var(--color-primary); color: white; transition: all var(--transition-speed) ease; padding: 0.75rem 1.5rem; font-weight: 500; border-radius: 0.25rem; box-shadow: 0 4px 15px rgba(139, 92, 246, 0.2); }
        .btn-primary:hover { background-color: var(--color-primary-dark); transform: translateY(-2px); box-shadow: 0 7px 20px rgba(139, 92, 246, 0.3); }
        .btn-secondary { background-color: transparent; color: var(--color-secondary); border: 1px solid var(--color-secondary); transition: all var(--transition-speed) ease; padding: 0.75rem 1.5rem; font-weight: 500; border-radius: 0.25rem; }
        .btn-secondary:hover { background-color: var(--color-secondary); color: white; transform: translateY(-2px); }
        .mystic-text { color: var(--color-primary); }
        .hero-banner { position: relative; height: 100vh; background-position: center; background-size: cover; display: flex; align-items: center; justify-content: center; overflow: hidden; }
        .hero-content { position: relative; z-index: 2; max-width: 800px; text-align: center; }
        .hero-banner::after { content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: radial-gradient(ellipse at center, rgba(26,26,26,0.5) 0%, rgba(17,17,17,0.8) 100%); }
        .product-card { transition: all var(--transition-speed) ease; border-radius: 0.5rem; overflow: hidden; box-shadow: 0 4px 6px rgba(0,0,0,0.05); height: 100%; background: white; border: 1px solid #eee; position: relative; }
        .product-card:hover { transform: translateY(-5px); box-shadow: 0 10px 20px rgba(139, 92, 246, 0.15); border-color: var(--color-primary-light); }
        .product-image-container { position: relative; overflow: hidden; padding-top: 100%; background-color: #f8f8f8; }
        .product-image { position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover; transition: transform 0.5s ease; }
        .product-card:hover .product-image { transform: scale(1.05); }
        .modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.5); animation: fadeIn 0.3s; backdrop-filter: blur(5px); }
        @keyframes fadeIn { from {opacity: 0} to {opacity: 1} }
        .modal-content { background-color: rgba(255,255,255,0.95); margin: 2% auto; max-width: 1000px; width: 90%; max-height: 90vh; overflow-y: auto; border-radius: 0.5rem; box-shadow: 0 10px 25px rgba(0,0,0,0.2); animation: slideUp 0.4s; backdrop-filter: blur(10px); }
        @keyframes slideUp { from {transform: translateY(50px); opacity: 0;} to {transform: translateY(0); opacity: 1;} }
        .cart-drawer { position: fixed; top: 0; right: -400px; width: 380px; max-width: 100%; height: 100vh; background-color: white; z-index: 1000; box-shadow: 0 0 20px rgba(0,0,0,0.2); transition: right 0.4s ease; overflow-y: auto; }
        .cart-drawer.open { right: 0; }
        .cart-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); z-index: 999; display: none; }
        .notification { position: fixed; top: 20px; right: 20px; padding: 15px 20px; border-radius: 4px; color: white; font-weight: 500; transform: translateY(-100px); transition: transform 0.3s ease; z-index: 1100; box-shadow: 0 4px 12px rgba(0,0,0,0.15); }
        .notification.success { background-color: #4CAF50; }
        .notification.error { background-color: #F44336; }
        .notification.show { transform: translateY(0); }
        .service-card { transition: all var(--transition-speed) ease; border-radius: 0.5rem; overflow: hidden; box-shadow: 0 4px 6px rgba(0,0,0,0.05); height: 100%; background: white; text-align: center; padding: 2rem; }
        .service-card:hover { transform: translateY(-5px); box-shadow: 0 10px 20px rgba(139, 92, 246, 0.15); }
        .service-icon { font-size: 3rem; color: var(--color-primary); margin-bottom: 1rem; }
        @media (max-width: 768px) {
            .hero-banner { height: 70vh; }
            .mobile-filter-toggle { display: block; }
            .cart-drawer { width: 100%; right: -100%; }
            /* Other mobile styles from previous version... */
        }
    </style>
    
    <style id="design-improvements">
        html { scroll-behavior: smooth; }
        body { background-image: url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"%3E%3Cg fill="%23ddd6fe" fill-opacity="0.2"%3E%3Ccircle cx="50" cy="50" r="1"/%3E%3Ccircle cx="10" cy="20" r="1"/%3E%3Ccircle cx="80" cy="30" r="1"/%3E%3Ccircle cx="30" cy="70" r="1"/%3E%3Ccircle cx="90" cy="90" r="1"/%3E%3C/g%3E%3C/svg%3E'); }
        .section-title { position: relative; display: inline-block; padding-bottom: 0.75rem; margin-bottom: 1.5rem; }
        .section-title::after { content: ''; position: absolute; bottom: 0; left: 50%; transform: translateX(-50%); width: 60px; height: 3px; background: linear-gradient(90deg, var(--color-primary-light), var(--color-accent)); border-radius: 2px; }
        .header-scrolled { background-color: rgba(255, 255, 255, 0.8); backdrop-filter: blur(10px); box-shadow: 0 2px 10px rgba(0,0,0,0.05); }
        header nav a { position: relative; transition: color var(--transition-speed) ease; }
        header nav a::after { content: ''; position: absolute; width: 0; height: 2px; bottom: -5px; left: 50%; transform: translateX(-50%); background-color: var(--color-primary); transition: width var(--transition-speed) ease; }
        header nav a:hover::after { width: 100%; }
        .hero-content h1 { text-shadow: 0 2px 10px rgba(0,0,0,0.3); }
        .service-card { position: relative; border: 1px solid #e5e7eb; z-index: 1; }
        .service-card::before { content: ""; position: absolute; top: 0; left: 0; right: 0; bottom: 0; border-radius: 0.5rem; border: 2px solid transparent; background: linear-gradient(135deg, var(--color-primary-light), var(--color-accent)) border-box; -webkit-mask: linear-gradient(#fff 0 0) padding-box, linear-gradient(#fff 0 0); -webkit-mask-composite: destination-out; mask-composite: exclude; z-index: -1; opacity: 0; transition: opacity 0.4s ease; }
        .service-card:hover::before { opacity: 1; }
        .service-icon { display: inline-flex; align-items: center; justify-content: center; width: 80px; height: 80px; border-radius: 50%; background: linear-gradient(135deg, #F5F3FF 0%, #DDD6FE 100%); margin-left: auto; margin-right: auto; }
        #products { background: linear-gradient(180deg, #ffffff 0%, #f5f3ff 100%); }
        .testimonial-card { background: white; padding: 2rem; border-radius: 0.5rem; box-shadow: 0 5px 15px rgba(0,0,0,0.07); position: relative; overflow: hidden; }
        .testimonial-card::before { content: '\f10d'; font-family: 'Font Awesome 6 Free'; font-weight: 900; position: absolute; top: -10px; left: 10px; font-size: 5rem; color: var(--color-primary); opacity: 0.08; }
        .testimonial-stars { color: var(--color-accent); }
        #newsletter { background: url('https://www.transparenttextures.com/patterns/stardust.png'), linear-gradient(135deg, var(--color-mystic) 0%, #3b0764 100%); color: white; }
        #newsletter h2 { text-shadow: 0 1px 3px rgba(0,0,0,0.2); }
        footer { background-color: #111827; }
        .reveal { opacity: 0; transform: translateY(30px); transition: opacity 0.6s ease-out, transform 0.6s ease-out; }
        .reveal.is-visible { opacity: 1; transform: translateY(0); }
    </style>

    <!-- === FINAL IMPROVEMENTS === -->
    <style id="final-improvements">
        /* Hero Particles Background */
        #particles-js {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: 1;
        }

        /* About Me Section */
        #about .signature {
            font-family: 'Playfair Display', serif;
            font-style: italic;
            font-size: 1.5rem;
            color: var(--color-primary-dark);
        }

        /* Card of the Day Section */
        #card-of-the-day {
            background: url('https://www.transparenttextures.com/patterns/stardust.png'), linear-gradient(135deg, var(--color-mystic) 0%, #3b0764 100%);
        }
        .tarot-flipper {
            perspective: 1000px;
            cursor: pointer;
        }
        .tarot-card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            transition: transform 0.8s;
            transform-style: preserve-3d;
        }
        .tarot-flipper.is-flipped .tarot-card-inner {
            transform: rotateY(180deg);
        }
        .tarot-card-front, .tarot-card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            border-radius: 0.75rem;
            overflow: hidden;
        }
        .tarot-card-back {
            transform: rotateY(180deg);
            background-color: white;
            padding: 1.5rem;
        }
        
        /* Product Card Enhanced Hover */
        .add-to-cart-flyout {
            position: absolute;
            bottom: -60px; /* Start hidden */
            left: 0;
            right: 0;
            padding: 0.75rem;
            background: linear-gradient(transparent, rgba(0,0,0,0.5));
            transition: bottom var(--transition-speed) ease;
        }
        .product-card:hover .add-to-cart-flyout {
            bottom: 0;
        }
        .product-card::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            border-radius: 0.5rem;
            opacity: 0;
            transition: opacity var(--transition-speed) ease;
            background: radial-gradient(circle at 50% 50%, rgba(139, 92, 246, 0.2), transparent 70%);
            pointer-events: none;
        }
        .product-card:hover::before {
            opacity: 1;
        }

        /* Testimonials Swiper Styling */
        .testimonials-swiper .swiper-pagination-bullet-active {
            background-color: var(--color-primary);
        }

        /* Loading Spinner */
        .loading-spinner {
            width: 40px;
            height: 40px;
            border: 4px solid #f3f3f3;
            border-top: 4px solid var(--color-primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 2rem auto;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Header -->
    <header class="bg-white shadow-sm sticky top-0 z-50 transition-all duration-300" id="main-header">
        <div class="container mx-auto px-4">
            <div class="flex items-center justify-between py-4">
                <a href="#" class="text-2xl font-bold serif mystic-text flex items-center gap-2">
                    <i class="fas fa-star-and-crescent"></i> Mystic Tarot
                </a>
                <div class="flex items-center space-x-6">
                    <nav class="hidden md:flex space-x-6">
                        <a href="#" class="text-gray-700 hover:text-gray-900">Inicio</a>
                        <a href="#services" class="text-gray-700 hover:text-gray-900">Servicios</a>
                        <a href="#about" class="text-gray-700 hover:text-gray-900">Sobre Mí</a>
                        <a href="#products" class="text-gray-700 hover:text-gray-900">Rituales</a>
                        <a href="#testimonials" class="text-gray-700 hover:text-gray-900">Tarot</a>
                    </nav>
                    <div class="flex items-center space-x-4">
                        <button class="text-gray-700 hover:text-gray-900"><i class="far fa-heart"></i></button>
                        <button class="text-gray-700 hover:text-gray-900"><i class="far fa-user"></i></button>
                        <button id="cart-toggle" class="text-gray-700 hover:text-gray-900 relative">
                            <i class="fas fa-shopping-bag"></i>
                            <span id="cart-count" class="absolute -top-2 -right-2 bg-[#8B5CF6] text-white text-xs rounded-full w-5 h-5 flex items-center justify-center">0</span>
                        </button>
                        <button class="md:hidden text-gray-700 hover:text-gray-900" id="menu-toggle">
                            <i class="fas fa-bars"></i>
                        </button>
                    </div>
                </div>
            </div>
            <div class="md:hidden hidden" id="mobile-menu">
                <nav class="flex flex-col py-4 space-y-4 border-t">
                    <a href="#" class="text-gray-700 hover:text-gray-900">Inicio</a>
                    <a href="#services" class="text-gray-700 hover:text-gray-900">Servicios</a>
                    <a href="#about" class="text-gray-700 hover:text-gray-900">Sobre Mí</a>
                    <a href="#products" class="text-gray-700 hover:text-gray-900">Productos</a>
                    <a href="#testimonials" class="text-gray-700 hover:text-gray-900">Testimonios</a>
                </nav>
            </div>
        </div>
    </header>

    <main>
        <!-- Hero Banner with Particles -->
        <section class="hero-banner" style="background-image: url('https://cdn.pixabay.com/photo/2017/09/12/19/31/tarot-cards-2743904_1280.jpg');">
            <div id="particles-js"></div>
            <div class="hero-content text-white px-4 reveal is-visible">
                <h1 class="text-5xl md:text-7xl font-bold mb-4">Ilumina Tu Camino</h1>
                <p class="text-xl md:text-2xl mb-8">Guía espiritual, lecturas de tarot y herramientas para tu alma.</p>
                <a href="#services" class="btn-primary">Explorar Servicios</a>
            </div>
        </section>

        <!-- Services Section -->
        <section class="py-20 bg-white" id="services">
            <div class="container mx-auto px-4">
                <div class="mb-16 text-center reveal">
                    <h2 class="text-3xl md:text-4xl font-bold mb-2 section-title">Servicios Disponibles</h2>
                    <p class="text-gray-600 max-w-2xl mx-auto">Conecta con tu yo interior y descubre lo que el futuro tiene preparado para ti</p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                    <div class="service-card reveal" style="transition-delay: 100ms;">
                        <div class="service-icon"><i class="fas fa-star-and-crescent"></i></div>
                        <h3 class="text-xl font-semibold mb-2">Tarot</h3>
                        <p class="text-gray-600 mb-4">Tenemos diferentes tipos de lecturas, para todas las necesidades.</p>
                        
                    </div>
                    <div class="service-card reveal" style="transition-delay: 200ms;">
                        <div class="service-icon"><i class="fas fa-hand-holding-heart"></i></div>
                        <h3 class="text-xl font-semibold mb-2">Rituales</h3>
                        <p class="text-gray-600 mb-4">Ofrecemos actos que cambian el curso de tu vida.</p>
                        
                    </div>
                    <div class="service-card reveal" style="transition-delay: 300ms;">
                        <div class="service-icon"><i class="fas fa-gem"></i></div>
                        <h3 class="text-xl font-semibold mb-2">Productos</h3>
                        <p class="text-gray-600 mb-4">Encuentra los instrumentos perfectos para tu práctica espiritual.</p>
                        
                        
                    </div>
                </div>
            </div>
        </section>

        <!-- About Me Section -->
        <section class="py-20 bg-gray-50" id="about">
            <div class="container mx-auto px-4">
                <div class="flex flex-col md:flex-row items-center gap-12 reveal">
                    <div class="md:w-1/3 text-center">
                        <img src="https://images.unsplash.com/photo-1544005313-94ddf0286de2?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=800&q=80" alt="Tarotista Selene" class="rounded-full w-64 h-64 mx-auto object-cover shadow-lg border-4 border-white" loading="lazy">
                    </div>
                    <div class="md:w-2/3">
                        <h2 class="text-3xl md:text-4xl font-bold mb-4 section-title !text-left !mx-0 after:!left-0 after:!transform-none">Conoce a tu Guía, Selene</h2>
                        <p class="text-gray-600 mb-4 text-lg">Hola, alma curiosa. Soy Selene, y he dedicado mi vida a interpretar los susurros del universo a través de las cartas. Mi misión no es predecir un futuro inamovible, sino iluminar los posibles caminos que se abren ante ti, dándote la claridad y el poder para que elijas con confianza.</p>
                        <p class="text-gray-600 mb-6">Cada lectura es un espacio sagrado, libre de juicio, donde exploramos juntas tus dudas, miedos y anhelos. Permíteme ser tu guía en este viaje de autodescubrimiento.</p>
                        <p class="signature">Con cariño, Selene</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Product Listing -->
        <section class="py-20" id="products">
            <div class="container mx-auto px-4">
                 <div class="mb-16 text-center reveal">
                     <h2 class="text-3xl md:text-4xl font-bold mb-2 section-title">Rituales Personalizados</h2>
                     <p class="text-gray-600 max-w-2xl mx-auto">Influye en tu destino con nuestros rituales seleccionados cuidadosamente para potenciar tu energía y espiritualidad.</p>    
                 </div>
                 <div class="w-full md:w-3/4 lg:w-4/5 mx-auto">
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 gap-8 reveal" id="product-grid">
                        <div class="loading-spinner"></div>
                    </div>
                 </div>
                 <div class="mt-12 text-center reveal">
                     <button class="btn-secondary">Ver todos los productos</button>
                 </div>
            </div>
        </section>
        
        <!-- Testimonials Section with Swiper -->
       
         <!-- Product Listing -->
        <section class="py-20" id="products">
            <div class="container mx-auto px-4">
                 <div class="mb-16 text-center reveal">
                     <h2 class="text-3xl md:text-4xl font-bold mb-2 section-title">Servicios de Tarot</h2>
                     <p class="text-gray-600 max-w-2xl mx-auto">Explora nuestras lecturas de tarot personalizadas para cada necesidad.</p>
                 </div>
                 <div class="w-full md:w-3/4 lg:w-4/5 mx-auto">
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 gap-8 reveal" id="product-grid">
                        <div class="loading-spinner"></div>
                    </div>
                 </div>
                 <div class="mt-12 text-center reveal">
                     <button class="btn-secondary">Ver todos los productos</button>
                 </div>
            </div>
        </section>

        <!-- Newsletter Section -->
        <section class="py-20" id="newsletter">
            <div class="container mx-auto px-4 reveal">
                <div class="max-w-xl mx-auto text-center">
                    <h2 class="text-3xl font-bold mb-4">Únete a Nuestra Comunidad Mística</h2>
                    <p class="mb-6 text-gray-300">Suscríbete para recibir horóscopos semanales, acceso a contenido exclusivo y ofertas especiales.</p>
                    <div class="flex flex-col sm:flex-row gap-2">
                        <input type="email" placeholder="Tu dirección de email" class="flex-grow px-4 py-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-[var(--color-accent)] bg-white/10 text-white placeholder-gray-300">
                        <button class="btn-primary bg-[var(--color-accent)] text-[var(--color-secondary)] hover:bg-amber-500">Suscribirse</button>
                    </div>
                </div>
            </div>
        </section>
    </main>
    
    <!-- Footer -->
    <footer class="text-white" id="footer">
        <div class="container mx-auto px-4 py-12">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <div>
                    <h3 class="text-xl font-bold mb-4 mystic-text serif">Mystic Tarot</h3>
                    <p class="text-gray-400 mb-4">Servicios profesionales de tarot y productos ritualísticos de alta calidad para tu práctica espiritual.</p>
                    <div class="flex space-x-4">
                        <a href="#" class="text-gray-400 hover:text-white"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="text-gray-400 hover:text-white"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="text-gray-400 hover:text-white"><i class="fab fa-pinterest-p"></i></a>
                        <a href="#" class="text-gray-400 hover:text-white"><i class="fab fa-twitter"></i></a>
                    </div>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-4">Servicios</h3>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-400 hover:text-white">Lectura de Tarot</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white">Cartas Astrales</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white">Rituales Personalizados</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-4">Productos</h3>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-400 hover:text-white">Mazos de Tarot</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white">Péndulos</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white">Cristales</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-4">Atención al Cliente</h3>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-400 hover:text-white">Contacto</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white">Preguntas Frecuentes</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white">Términos de Servicio</a></li>
                    </ul>
                </div>
            </div>
            <div class="border-t border-gray-800 mt-10 pt-6 flex flex-col md:flex-row justify-between items-center">
                <p class="text-gray-400 mb-4 md:mb-0">&copy; 2025 Mystic Tarot. Todos los derechos reservados.</p>
            </div>
        </div>
    </footer>

    <!-- Cart Drawer -->
    <div class="cart-overlay" id="cart-overlay"></div>
    <div class="cart-drawer" id="cart-drawer">
        <div class="p-6">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-xl font-bold">Tu Carrito</h2>
                <button id="close-cart" class="text-gray-500 hover:text-gray-700">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div id="cart-items" class="mb-4">
                <!-- Cart items will be inserted here -->
            </div>
            <div class="border-t pt-4 mb-4">
                <div class="flex justify-between mb-2">
                    <span class="font-semibold">Subtotal:</span>
                    <span id="cart-subtotal" class="font-bold">$0.00</span>
                </div>
                <div class="flex justify-between mb-4">
                    <span class="font-semibold">Envío:</span>
                    <span id="cart-shipping" class="font-bold">$0.00</span>
                </div>
                <div class="flex justify-between text-lg">
                    <span class="font-semibold">Total:</span>
                    <span id="cart-total" class="font-bold">$0.00</span>
                </div>
            </div>
            <button class="btn-primary w-full">Proceder al Pago</button>
        </div>
    </div>

    <!-- Notification Container -->
    <div id="notification-container"></div>

    <script id="app-script">
    document.addEventListener('DOMContentLoaded', function() {
        // --- INITIALIZATION ---
        initParticles();
        initSwipers();
        initCardOfTheDay();
        displayProducts();
        updateCartCount();
        initEventListeners();
        initScrollAnimations();
        initHeaderScroll();
    });

    // --- NEW FEATURES ---

    function initParticles() {
        if (typeof particlesJS !== 'undefined') {
            particlesJS('particles-js', { 
                "particles": { 
                    "number": { 
                        "value": 40, 
                        "density": { 
                            "enable": true, 
                            "value_area": 800 
                        } 
                    }, 
                    "color": { 
                        "value": "#ffffff" 
                    }, 
                    "shape": { 
                        "type": "circle", 
                        "stroke": { 
                            "width": 0, 
                            "color": "#000000" 
                        } 
                    }, 
                    "opacity": { 
                        "value": 0.5, 
                        "random": true, 
                        "anim": { 
                            "enable": true, 
                            "speed": 1, 
                            "opacity_min": 0.1, 
                            "sync": false 
                        } 
                    }, 
                    "size": { 
                        "value": 2, 
                        "random": true, 
                        "anim": { 
                            "enable": false 
                        } 
                    }, 
                    "line_linked": { 
                        "enable": false 
                    }, 
                    "move": { 
                        "enable": true, 
                        "speed": 1, 
                        "direction": "none", 
                        "random": true, 
                        "straight": false, 
                        "out_mode": "out", 
                        "bounce": false 
                    } 
                }, 
                "interactivity": { 
                    "detect_on": "canvas", 
                    "events": { 
                        "onhover": { 
                            "enable": false 
                        }, 
                        "onclick": { 
                            "enable": false 
                        }, 
                        "resize": true 
                    } 
                }, 
                "retina_detect": true 
            });
        }
    }

    function initSwipers() {
        // Testimonials Swiper
        if (typeof Swiper !== 'undefined') {
            new Swiper('.testimonials-swiper', {
                loop: true,
                slidesPerView: 1,
                spaceBetween: 30,
                autoplay: {
                    delay: 5000,
                    disableOnInteraction: false,
                },
                pagination: {
                    el: '.swiper-pagination',
                    clickable: true,
                },
                breakpoints: {
                    768: {
                        slidesPerView: 2,
                    },
                    1024: {
                        slidesPerView: 3,
                    },
                }
            });
        }
    }

    function initCardOfTheDay() {
        const flipper = document.getElementById('tarot-flipper');
        const instruction = document.getElementById('card-instruction');
        
        if (!flipper) return;
        
        let isFlipped = false;

        const tarotCards = [
            { 
                name: "El Mago", 
                meaning: "Manifestación, poder, recursos. Hoy tienes todas las herramientas para crear tu realidad.", 
                image: "https://i.imgur.com/8YV4a2s.png" 
            },
            { 
                name: "La Sacerdotisa", 
                meaning: "Intuición, misterio, subconsciente. Escucha tu voz interior, no todo es lo que parece.", 
                image: "https://i.imgur.com/2Xk8J2A.png" 
            },
            { 
                name: "La Emperatriz", 
                meaning: "Fertilidad, feminidad, abundancia. Es un día para nutrirte a ti y a tus proyectos.", 
                image: "https://i.imgur.com/N7f8X1v.png" 
            },
            { 
                name: "El Sol", 
                meaning: "Alegría, éxito, vitalidad. Disfruta de la claridad y la energía positiva que te rodea.", 
                image: "https://i.imgur.com/J3tG3sC.png" 
            },
            { 
                name: "La Estrella", 
                meaning: "Esperanza, inspiración, serenidad. Mantén la fe en tu camino, estás siendo guiado.", 
                image: "https://i.imgur.com/lVqD2gA.png" 
            }
        ];

        flipper.addEventListener('click', () => {
            if (isFlipped) return;

            let card = JSON.parse(sessionStorage.getItem('dailyCard'));

            // Check if we already have a card for today
            const today = new Date().toDateString();
            const storedDate = sessionStorage.getItem('dailyCardDate');
            
            if (!card || storedDate !== today) {
                card = tarotCards[Math.floor(Math.random() * tarotCards.length)];
                sessionStorage.setItem('dailyCard', JSON.stringify(card));
                sessionStorage.setItem('dailyCardDate', today);
            }
            
            document.getElementById('card-name').textContent = card.name;
            document.getElementById('card-meaning').textContent = card.meaning;
            document.getElementById('card-image').src = card.image;
            instruction.textContent = "El mensaje ha sido revelado. Vuelve mañana para una nueva guía.";
            
            flipper.classList.add('is-flipped');
            isFlipped = true;
        });

        // Check if card was already revealed today
        const today = new Date().toDateString();
        const storedDate = sessionStorage.getItem('dailyCardDate');
        
        if (storedDate === today) {
            flipper.click();
        }
    }


    // --- CORE FUNCTIONALITY ---
    
    // Global variables
    const productData = [
        {
            id: 1,
            title: "Apertura de Caminos",
            price: 15.000,
            category: "Ritual",
            images: ["https://cdn.qwenlm.ai/output/6c2c147a-8f34-4139-85e3-603d9e0d2533/t2i/a60ea23e-d8a3-40a0-9e21-01e52b422897/1757107827.png?key=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyZXNvdXJjZV91c2VyX2lkIjoiNmMyYzE0N2EtOGYzNC00MTM5LTg1ZTMtNjAzZDllMGQyNTMzIiwicmVzb3VyY2VfaWQiOiIxNzU3MTA3ODI3IiwicmVzb3VyY2VfY2hhdF9pZCI6IjRjNGJjYTk5LWJhMzUtNDU3Ny1hODAzLTUzMTljMjEzYWFkZCJ9.9PkTZVNGMU4ue1MTHnpniekoGRwGNMCnX7jyPUJS1OE&x-oss-process=image/resize,m_mfit,w_450,h_450"]  
                     }             , 
        {
            id: 2,
            title: "Protección de Pareja",
            price: 15.000,
            category: "Ritual",
            images: ["https://cdn.qwenlm.ai/output/6c2c147a-8f34-4139-85e3-603d9e0d2533/t2i/5d8bcef9-3f38-43d2-b4f5-dc7a8c55422a/1757109484.png?key=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyZXNvdXJjZV91c2VyX2lkIjoiNmMyYzE0N2EtOGYzNC00MTM5LTg1ZTMtNjAzZDllMGQyNTMzIiwicmVzb3VyY2VfaWQiOiIxNzU3MTA5NDg0IiwicmVzb3VyY2VfY2hhdF9pZCI6IjIxMWFhZTA4LWEwOTQtNGI1OC05Y2MyLTEzMDZlYzYzMmQyYyJ9.I7aLG2tbebbbkE8p4bHwTERjqjdAykPhpeIE90VgRJY&x-oss-process=image/resize,m_mfit,w_450,h_450"]
        
        },
        {
            id: 5,
            title: "Endulzamiento",
            price: 30.000,
            category: "Ritual",
            images: ["https://cdn.qwenlm.ai/output/6c2c147a-8f34-4139-85e3-603d9e0d2533/t2i/544af70b-7e5c-4c5b-8d37-a53169ef9782/1757108165.png?key=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyZXNvdXJjZV91c2VyX2lkIjoiNmMyYzE0N2EtOGYzNC00MTM5LTg1ZTMtNjAzZDllMGQyNTMzIiwicmVzb3VyY2VfaWQiOiIxNzU3MTA4MTY1IiwicmVzb3VyY2VfY2hhdF9pZCI6ImY2MTU4NzdjLWI5ZTMtNDM5YS1iZTgwLTgzZjEwYjI4YmY4ZiJ9.0o0WV1f0m6c3CNh7NOOAGZJJM_ibS9T-S5vx-bi5fEQ&x-oss-process=image/resize,m_mfit,w_450,h_450"]
        },
        {
            id: 6,
            title: "Retorno de Pareja",
            price: 45.000,
            category: "Ritual",
            images: ["https://cdn.qwenlm.ai/output/6c2c147a-8f34-4139-85e3-603d9e0d2533/t2i/e4e6ab93-5175-4797-afcd-8420f0382814/1757108016.png?key=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyZXNvdXJjZV91c2VyX2lkIjoiNmMyYzE0N2EtOGYzNC00MTM5LTg1ZTMtNjAzZDllMGQyNTMzIiwicmVzb3VyY2VfaWQiOiIxNzU3MTA4MDE2IiwicmVzb3VyY2VfY2hhdF9pZCI6IjQ0MzE3MzFlLWZhNGUtNDU0MC04ZGY1LWFlNjEzYmUwOTJiNiJ9.jNMTmYlkt-6pcs1V0jiYAj7-PzwJOl3C5n8yunejGK8&x-oss-process=image/resize,m_mfit,w_450,h_450"]
        },
        {
            id: 7,
            title: "Corte de Lazo Karmico",
            price: 15.000,
            category: "Ritual",
            images: ["https://cdn.qwenlm.ai/output/6c2c147a-8f34-4139-85e3-603d9e0d2533/t2i/5a318114-567b-441e-98d0-4fe98e490f8b/1757108372.png?key=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyZXNvdXJjZV91c2VyX2lkIjoiNmMyYzE0N2EtOGYzNC00MTM5LTg1ZTMtNjAzZDllMGQyNTMzIiwicmVzb3VyY2VfaWQiOiIxNzU3MTA4MzcyIiwicmVzb3VyY2VfY2hhdF9pZCI6IjNiN2JlYTM1LTljY2QtNDQwYy1hMzg3LTE5MjI0Y2RiNjgzYyJ9.GRU4fcprevsfB7kK_dmox7eNKD9LbQiENg5hhdaXWwc&x-oss-process=image/resize,m_mfit,w_450,h_450"]
        }
        
    ];

    // lecturas de tarot
    const tarotData = [
        {
            id: 1,
            title: "Tirada Básica",
            price: 10.000,
            category: "Lectura",
           images: ["https://cdn.qwenlm.ai/output/6c2c147a-8f34-4139-85e3-603d9e0d2533/t2i/05f61d8e-be9a-4dd3-b393-769d6b9357fd/1757109781.png?key=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyZXNvdXJjZV91c2VyX2lkIjoiNmMyYzE0N2EtOGYzNC00MTM5LTg1ZTMtNjAzZDllMGQyNTMzIiwicmVzb3VyY2VfaWQiOiIxNzU3MTA5NzgxIiwicmVzb3VyY2VfY2hhdF9pZCI6ImRmMDc3Mjg3LWRjY2UtNDIyNS1hNTQ5LTRiM2UyMjQyOTJhMyJ9.ipvy51IwRJjmLUNve8zAc07iWn4ToxSTa2ECVAejTmg"]
        }
    ,
    // llave desbloqueo 12 mil
    {
        id: 2,
        title: "Análisis de Relación",
        price: 12.000,
        category: "Lectura",
        images: ["https://cdn.qwenlm.ai/output/6c2c147a-8f34-4139-85e3-603d9e0d2533/t2i/19bbbe06-3fbe-4ecb-b511-b94deeea21be/1757109921.png?key=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyZXNvdXJjZV91c2VyX2lkIjoiNmMyYzE0N2EtOGYzNC00MTM5LTg1ZTMtNjAzZDllMGQyNTMzIiwicmVzb3VyY2VfaWQiOiIxNzU3MTA5OTIxIiwicmVzb3VyY2VfY2hhdF9pZCI6ImRmMDc3Mjg3LWRjY2UtNDIyNS1hNTQ5LTRiM2UyMjQyOTJhMyJ9.DaxExfJb_Lt-EePk8BffY1Dc_lKS6mLjRKrGvnVN1iI&x-oss-process=image/resize,m_mfit,w_450,h_450"]
    },

    // analisis de relacion 15mil
    
{
    id: 3,
    title: "Llave de Desbloqueo",
    price: 15.000,
    category: "Lectura",
    images:["https://cdn.qwenlm.ai/output/6c2c147a-8f34-4139-85e3-603d9e0d2533/t2i/7b126a6c-5cd8-4372-bbc0-7d09f7ca3ee7/1757110034.png?key=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyZXNvdXJjZV91c2VyX2lkIjoiNmMyYzE0N2EtOGYzNC00MTM5LTg1ZTMtNjAzZDllMGQyNTMzIiwicmVzb3VyY2VfaWQiOiIxNzU3MTEwMDM0IiwicmVzb3VyY2VfY2hhdF9pZCI6ImRmMDc3Mjg3LWRjY2UtNDIyNS1hNTQ5LTRiM2UyMjQyOTJhMyJ9.2ga8Cd2E573SpWpsKp0DUb3o8KH0KSumQTNM6JENhyY&x-oss-process=image/resize,m_mfit,w_450,h_450"] 
    
}
        
];


    
    let cart = JSON.parse(localStorage.getItem('cart')) || [];
    let selectedMaterial = null;
    let currentProductId = null;

    function displayProducts() {
        const productGrid = document.getElementById('product-grid');
        if (!productGrid) return;
        
        productGrid.innerHTML = ''; 
        
        productData.forEach((product, index) => {
            const productCard = document.createElement('div');
            productCard.className = 'product-card reveal';
            productCard.style.transitionDelay = `${index * 50}ms`;

            productCard.innerHTML = `
                <div class="product-image-container">
                    <img src="${product.images[0]}" alt="${product.title}" class="product-image" loading="lazy">
                </div>
                <div class="p-4 text-center">
                    <h3 class="text-sm text-gray-500">${product.category}</h3>
                    <h2 class="text-lg font-semibold mb-1 serif">${product.title}</h2>
                    <p class="text-xl font-bold mystic-text">$${product.price.toFixed(2)}</p>
                </div>
                <div class="add-to-cart-flyout">
                    <button class="btn-primary w-full !py-2 !text-sm add-to-cart-btn" data-id="${product.id}">Añadir al Carrito</button>
                </div>
            `;
            productGrid.appendChild(productCard);
        });

        // Add event listeners to the add to cart buttons
        document.querySelectorAll('.add-to-cart-btn').forEach(button => {
            button.addEventListener('click', (e) => {
                e.stopPropagation();
                const productId = parseInt(button.dataset.id);
                addToCart(productId, 1, 'Standard');
            });
        });
    }

    //display tarot services
function displayTarotServices() {
        const TarotGrid = document.getElementById('tarot-grid');
        if (!TarotGrid) return;
        
        TarotGrid.innerHTML = ''; 
        
        TarotGrid.forEach((service, index) => {
            const tarotCard = document.createElement('div');
            tarotCard.className = 'product-card reveal';
            tarotCard.style.transitionDelay = `${index * 50}ms`;

            productCard.innerHTML = `
                <div class="product-image-container">
                    <img src="${product.images[0]}" alt="${product.title}" class="product-image" loading="lazy">
                </div>
                <div class="p-4 text-center">
                    <h3 class="text-sm text-gray-500">${product.category}</h3>
                    <h2 class="text-lg font-semibold mb-1 serif">${product.title}</h2>
                    <p class="text-xl font-bold mystic-text">$${product.price.toFixed(2)}</p>
                </div>
                <div class="add-to-cart-flyout">
                    <button class="btn-primary w-full !py-2 !text-sm add-to-cart-btn" data-id="${product.id}">Añadir al Carrito</button>
                </div>
            `;
            productGrid.appendChild(tarotCard);
        });

        // Add event listeners to the add to cart buttons
        document.querySelectorAll('.add-to-cart-btn').forEach(button => {
            button.addEventListener('click', (e) => {
                e.stopPropagation();
                const productId = parseInt(button.dataset.id);
                addToCart(productId, 1, 'Standard');
            });
        });
    }
    function addToCart(productId, quantity, material) {
        const product = productData.find(p => p.id === productId);
        if (!product) return;

        // Check if product is already in cart
        const existingItemIndex = cart.findIndex(item => item.productId === productId && item.material === material);
        
        if (existingItemIndex !== -1) {
            // Update quantity if product already exists
            cart[existingItemIndex].quantity += quantity;
        } else {
            // Add new item to cart
            const cartItem = {
                id: Date.now(),
                productId: product.id,
                title: product.title,
                price: product.price,
                image: product.images[0],
                material: material,
                quantity: quantity
            };
            cart.push(cartItem);
        }
        
        localStorage.setItem('cart', JSON.stringify(cart));
        updateCartCount();
        showNotification(`${product.title} añadido al carrito!`, 'success');
        
        // Open cart drawer to show the new item
        document.getElementById('cart-drawer').classList.add('open');
        document.getElementById('cart-overlay').style.display = 'block';
        renderCartItems();
    }

    function initEventListeners() {
        // Mobile menu toggle
        const menuToggle = document.getElementById('menu-toggle');
        const mobileMenu = document.getElementById('mobile-menu');
        
        if (menuToggle && mobileMenu) {
            menuToggle.addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
            });
        }
        
        // Cart toggle
        const cartToggle = document.getElementById('cart-toggle');
        if (cartToggle) {
            cartToggle.addEventListener('click', () => {
                document.getElementById('cart-drawer').classList.add('open');
                document.getElementById('cart-overlay').style.display = 'block';
                renderCartItems();
            });
        }
        
        // Close cart
        const closeCartBtn = document.getElementById('close-cart');
        const cartOverlay = document.getElementById('cart-overlay');
        
        if (closeCartBtn) {
            closeCartBtn.addEventListener('click', closeCart);
        }
        
        if (cartOverlay) {
            cartOverlay.addEventListener('click', closeCart);
        }
        
        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                
                const targetId = this.getAttribute('href');
                if (targetId === '#') return;
                
                const targetElement = document.querySelector(targetId);
                if (targetElement) {
                    targetElement.scrollIntoView({
                        behavior: 'smooth'
                    });
                    
                    // Close mobile menu if open
                    if (mobileMenu && !mobileMenu.classList.contains('hidden')) {
                        mobileMenu.classList.add('hidden');
                    }
                }
            });
        });
    }
    
    function closeCart() {
        document.getElementById('cart-drawer').classList.remove('open');
        document.getElementById('cart-overlay').style.display = 'none';
    }

    function renderCartItems() {
        const cartItemsContainer = document.getElementById('cart-items');
        const cartSubtotal = document.getElementById('cart-subtotal');
        const cartShipping = document.getElementById('cart-shipping');
        const cartTotal = document.getElementById('cart-total');
        
        if (!cartItemsContainer) return;
        
        if (cart.length === 0) {
            cartItemsContainer.innerHTML = `<div class="p-8 text-center text-gray-500">Tu carrito está vacío.</div>`;
            if (cartSubtotal) cartSubtotal.textContent = '$0.00';
            if (cartShipping) cartShipping.textContent = '$0.00';
            if (cartTotal) cartTotal.textContent = '$0.00';
            return;
        }
        
        // Calculate totals
        const subtotal = cart.reduce((total, item) => total + (item.price * item.quantity), 0);
        const shipping = subtotal > 0 ? 5.99 : 0; // Example shipping calculation
        const total = subtotal + shipping;
        
        // Update totals
        if (cartSubtotal) cartSubtotal.textContent = `$${subtotal.toFixed(2)}`;
        if (cartShipping) cartShipping.textContent = `$${shipping.toFixed(2)}`;
        if (cartTotal) cartTotal.textContent = `$${total.toFixed(2)}`;
        
        // Render cart items
        cartItemsContainer.innerHTML = cart.map(item => `
            <div class="flex items-center gap-4 p-4 border-b">
                <img src="${item.image}" alt="${item.title}" class="w-16 h-16 object-cover rounded-md" loading="lazy">
                <div class="flex-grow">
                    <p class="font-semibold">${item.title}</p>
                    <p class="text-sm text-gray-600">${item.material}</p>
                    <div class="flex items-center mt-2">
                        <button class="text-gray-500 change-quantity" data-id="${item.id}" data-action="decrease">-</button>
                        <span class="mx-2">${item.quantity}</span>
                        <button class="text-gray-500 change-quantity" data-id="${item.id}" data-action="increase">+</button>
                    </div>
                </div>
                <div class="text-right">
                    <p class="font-bold">$${(item.price * item.quantity).toFixed(2)}</p>
                    <button class="text-red-500 text-sm remove-item mt-1" data-id="${item.id}">Eliminar</button>
                </div>
            </div>
        `).join('');
        
        // Add event listeners to quantity buttons and remove buttons
        document.querySelectorAll('.change-quantity').forEach(button => {
            button.addEventListener('click', function() {
                const itemId = parseInt(this.dataset.id);
                const action = this.dataset.action;
                updateCartItemQuantity(itemId, action);
            });
        });
        
        document.querySelectorAll('.remove-item').forEach(button => {
            button.addEventListener('click', function() {
                const itemId = parseInt(this.dataset.id);
                removeCartItem(itemId);
            });
        });
    }
    
    function updateCartItemQuantity(itemId, action) {
        const itemIndex = cart.findIndex(item => item.id === itemId);
        
        if (itemIndex !== -1) {
            if (action === 'increase') {
                cart[itemIndex].quantity += 1;
            } else if (action === 'decrease' && cart[itemIndex].quantity > 1) {
                cart[itemIndex].quantity -= 1;
            }
            
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartCount();
            renderCartItems();
        }
    }
    
    function removeCartItem(itemId) {
        cart = cart.filter(item => item.id !== itemId);
        localStorage.setItem('cart', JSON.stringify(cart));
        updateCartCount();
        renderCartItems();
        showNotification('Producto eliminado del carrito', 'success');
    }

    function updateCartCount() {
        const totalItems = cart.reduce((total, item) => total + item.quantity, 0);
        const cartCount = document.getElementById('cart-count');
        
        if (cartCount) {
            cartCount.textContent = totalItems;
        }
    }

    function showNotification(message, type) {
        const notificationContainer = document.getElementById('notification-container') || document.body;
        
        const notification = document.createElement('div');
        notification.className = `notification ${type}`;
        notification.textContent = message;
        
        notificationContainer.appendChild(notification);
        
        // Trigger animation
        setTimeout(() => {
            notification.classList.add('show');
        }, 10);
        
        // Remove notification after 3 seconds
        setTimeout(() => {
            notification.classList.remove('show');
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.parentNode.removeChild(notification);
                }
            }, 300);
        }, 3000);
    }
    
    function initHeaderScroll() {
        const header = document.getElementById('main-header');
        if (!header) return;
        
        window.addEventListener('scroll', () => {
            header.classList.toggle('header-scrolled', window.scrollY > 50);
        });
    }

    function initScrollAnimations() {
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };
        
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('is-visible');
                }
            });
        }, observerOptions);
        
        document.querySelectorAll('.reveal').forEach(el => {
            observer.observe(el);
        });
    }

    </script>
</body>
</html>